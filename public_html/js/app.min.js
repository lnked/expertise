var app = app || {};

(function(body){
    "use strict";

    app = {
        
        init: function() {
            this.map.init();
            this.faq.init();
            this.fixmenu.init();
        }

    };

})(document.body);
var app = app || {};

(function(body){
    "use strict";

    app.faq = {

        init: function() {
            $('body').on('click', '.j-faq-trigger', function(e){
                e.preventDefault();

                var $faq = $(this).closest('.j-faq');
                $faq.toggleClass('_open');

                return !1;
            });
        }

    };

})(document.body);
var app = app || {};

(function(body){
    "use strict";

    app.fixmenu = {
        
        fixMenu: function($menu, t) {

            if (t >= (159)) {
                if (!$menu.hasClass('_sticked')) {
                    $menu.addClass('_sticked');
                }
            }
            else {
                if ($menu.hasClass('_sticked')) {
                    $menu.removeClass('_sticked');
                }
            }
            
        },

        init: function() {
            var $element = $('#navigation'),
                that = this;

            that.fixMenu($element, $(window).scrollTop());

            $(window).on('scroll', function(){
                that.fixMenu($element, $(window).scrollTop());
            });
        }

    };

})(document.body);
var app = app || {};

(function(body){
    "use strict";

    app.map = {
        
        _mapObject: null,

        _geoObject: null,

        getData: function($element) {
            var x, wrap_id = null, coords = null;

            if ($element.data('coords')) {
                coords = $element.data('coords').split(',');

                for (x in coords) {
                    coords[x] = $.trim(coords[x]);
                }

                if (coords.length !== 2) {
                    coords = null;
                }
            }

            if ($element.attr('id')) {
                wrap_id = $element.attr('id');
            }

            return {
                id: wrap_id,
                coords: coords
            }
        },

        drowMap: function($element) {
            
            var that = this, data = this.getData($element);

            ymaps.ready(function(){

                that._mapObject = new ymaps.Map(data.id, {
                    center: [data.coords[0], data.coords[1]],
                    zoom: 13,
                    controls: ['zoomControl', 'searchControl', 'typeSelector', 'fullscreenControl']
                }),

                that._mapObject.behaviors.disable('scrollZoom');

                that._mapObject.controls.get('zoomControl').options.set('size', 'small');
                that._mapObject.controls.get('zoomControl').options.set('position', { right: 10, top: 50 });

                that._mapObject.geoObjects
                    .add(new ymaps.Placemark([data.coords[0], data.coords[1]], {}, {
                        preset: 'islands#dotIcon',
                        iconColor: '#735184'
                    }))

            });

        },

        init: function() {
            var that = this;

            if ($('.j-map').length) {
                $('.j-map').each(function(){
                    that.drowMap($(this));
                });
            }
        }

    };

})(document.body);
// ;(function ($) {
//     "use strict";

//     $.app = $.app || {};

//     var _this;

//     $.app.sandwich = {

//         config: {
//             keyHooks: !1,
//             selector: '.js-sandwich-menu',
//             wrapper: '.layout-wrapper',
//             overlay: '.overlay'
//         },

//         extend: function(config)
//         {
//             _this = this;

//             if (typeof config !== 'undefined')
//             {
//                 var x;
//                 for (x in config)
//                 {
//                     if (typeof _this.config[x] !== 'undefined')
//                         _this.config[x] = config[x];
//                 }
//             }
//         },

//         isOpen: function()
//         {
//             return body.hasClass('page-visible');
//         },

//         hide: function()
//         {
//             body.removeClass('page-open');

//             setTimeout(function(){
//                 body.removeClass('page-visible');
//             }, 10);

//             $(this.config.overlay).css({
//                 'visibility': 'hidden'
//             });
//         },

//         toggle: function()
//         {
//             if (body.hasClass('page-visible'))
//             {
//                 setTimeout(function(){
//                     body.removeClass('page-visible');
//                 }, 10);
//             }
//             else
//             {
//                 setTimeout(function(){
//                     body.addClass('page-visible');
//                 }, 10);
//             }

//             body.toggleClass('page-open');

//             var visibility = 'visible';

//             if (!body.hasClass('page-open'))
//             {
//                 visibility = 'hidden'
//             }
            
//             $(_this.config.overlay).css({
//                 'visibility': visibility
//             });
//         },

//         sandwichTrigger: function()
//         {
//             _this = this;

//             if (_this.config.keyHooks)
//             {
//                 body.on('keydown', function(e) {
//                     if(e.keyCode == 27 && _this.isOpen())
//                     {
//                         _this.toggle();
//                     }
//                 });
//             };

//             body.on('click', _this.config.selector, function(e){
//                 e.preventDefault ? e.preventDefault() : e.returnValue = false;
//                 _this.toggle();
//             });
//         },

//         overlayTrigger: function()
//         {
//             _this = this;

//             body.on('click', _this.config.overlay, function(e){
//                 _this.hide();
//             });
//         },

//         init: function(config)
//         {
//             this.extend(config);
            
//             this.sandwichTrigger();
//             this.overlayTrigger();
//         }

//     };

// })(jQuery);
//  
"use strict";

$(document).ready(function() {
    app.init();
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fYXBwLmpzIiwiX2FwcC5mYXEuanMiLCJfYXBwLmZpeG1lbnUuanMiLCJfYXBwLm1hcC5qcyIsIl9hcHAuc2FuZHdpY2guanMiLCJfZnVuY3Rpb25zLmpzIiwiaW5pdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMzRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3RIQTtBQUNBO0FDREE7QUFDQTtBQUNBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBwID0gYXBwIHx8IHt9O1xuXG4oZnVuY3Rpb24oYm9keSl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBhcHAgPSB7XG4gICAgICAgIFxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMubWFwLmluaXQoKTtcbiAgICAgICAgICAgIHRoaXMuZmFxLmluaXQoKTtcbiAgICAgICAgICAgIHRoaXMuZml4bWVudS5pbml0KCk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbn0pKGRvY3VtZW50LmJvZHkpOyIsInZhciBhcHAgPSBhcHAgfHwge307XG5cbihmdW5jdGlvbihib2R5KXtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGFwcC5mYXEgPSB7XG5cbiAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5qLWZhcS10cmlnZ2VyJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyICRmYXEgPSAkKHRoaXMpLmNsb3Nlc3QoJy5qLWZhcScpO1xuICAgICAgICAgICAgICAgICRmYXEudG9nZ2xlQ2xhc3MoJ19vcGVuJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxufSkoZG9jdW1lbnQuYm9keSk7IiwidmFyIGFwcCA9IGFwcCB8fCB7fTtcblxuKGZ1bmN0aW9uKGJvZHkpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgYXBwLmZpeG1lbnUgPSB7XG4gICAgICAgIFxuICAgICAgICBmaXhNZW51OiBmdW5jdGlvbigkbWVudSwgdCkge1xuXG4gICAgICAgICAgICBpZiAodCA+PSAoMTU5KSkge1xuICAgICAgICAgICAgICAgIGlmICghJG1lbnUuaGFzQ2xhc3MoJ19zdGlja2VkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgJG1lbnUuYWRkQ2xhc3MoJ19zdGlja2VkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCRtZW51Lmhhc0NsYXNzKCdfc3RpY2tlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICRtZW51LnJlbW92ZUNsYXNzKCdfc3RpY2tlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9LFxuXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICRlbGVtZW50ID0gJCgnI25hdmlnYXRpb24nKSxcbiAgICAgICAgICAgICAgICB0aGF0ID0gdGhpcztcblxuICAgICAgICAgICAgdGhhdC5maXhNZW51KCRlbGVtZW50LCAkKHdpbmRvdykuc2Nyb2xsVG9wKCkpO1xuXG4gICAgICAgICAgICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdGhhdC5maXhNZW51KCRlbGVtZW50LCAkKHdpbmRvdykuc2Nyb2xsVG9wKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbn0pKGRvY3VtZW50LmJvZHkpOyIsInZhciBhcHAgPSBhcHAgfHwge307XG5cbihmdW5jdGlvbihib2R5KXtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGFwcC5tYXAgPSB7XG4gICAgICAgIFxuICAgICAgICBfbWFwT2JqZWN0OiBudWxsLFxuXG4gICAgICAgIF9nZW9PYmplY3Q6IG51bGwsXG5cbiAgICAgICAgZ2V0RGF0YTogZnVuY3Rpb24oJGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciB4LCB3cmFwX2lkID0gbnVsbCwgY29vcmRzID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKCRlbGVtZW50LmRhdGEoJ2Nvb3JkcycpKSB7XG4gICAgICAgICAgICAgICAgY29vcmRzID0gJGVsZW1lbnQuZGF0YSgnY29vcmRzJykuc3BsaXQoJywnKTtcblxuICAgICAgICAgICAgICAgIGZvciAoeCBpbiBjb29yZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29vcmRzW3hdID0gJC50cmltKGNvb3Jkc1t4XSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNvb3Jkcy5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29vcmRzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgkZWxlbWVudC5hdHRyKCdpZCcpKSB7XG4gICAgICAgICAgICAgICAgd3JhcF9pZCA9ICRlbGVtZW50LmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQ6IHdyYXBfaWQsXG4gICAgICAgICAgICAgICAgY29vcmRzOiBjb29yZHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBkcm93TWFwOiBmdW5jdGlvbigkZWxlbWVudCkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXMsIGRhdGEgPSB0aGlzLmdldERhdGEoJGVsZW1lbnQpO1xuXG4gICAgICAgICAgICB5bWFwcy5yZWFkeShmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgdGhhdC5fbWFwT2JqZWN0ID0gbmV3IHltYXBzLk1hcChkYXRhLmlkLCB7XG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcjogW2RhdGEuY29vcmRzWzBdLCBkYXRhLmNvb3Jkc1sxXV0sXG4gICAgICAgICAgICAgICAgICAgIHpvb206IDEzLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sczogWyd6b29tQ29udHJvbCcsICdzZWFyY2hDb250cm9sJywgJ3R5cGVTZWxlY3RvcicsICdmdWxsc2NyZWVuQ29udHJvbCddXG4gICAgICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgICAgICB0aGF0Ll9tYXBPYmplY3QuYmVoYXZpb3JzLmRpc2FibGUoJ3Njcm9sbFpvb20nKTtcblxuICAgICAgICAgICAgICAgIHRoYXQuX21hcE9iamVjdC5jb250cm9scy5nZXQoJ3pvb21Db250cm9sJykub3B0aW9ucy5zZXQoJ3NpemUnLCAnc21hbGwnKTtcbiAgICAgICAgICAgICAgICB0aGF0Ll9tYXBPYmplY3QuY29udHJvbHMuZ2V0KCd6b29tQ29udHJvbCcpLm9wdGlvbnMuc2V0KCdwb3NpdGlvbicsIHsgcmlnaHQ6IDEwLCB0b3A6IDUwIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhhdC5fbWFwT2JqZWN0Lmdlb09iamVjdHNcbiAgICAgICAgICAgICAgICAgICAgLmFkZChuZXcgeW1hcHMuUGxhY2VtYXJrKFtkYXRhLmNvb3Jkc1swXSwgZGF0YS5jb29yZHNbMV1dLCB7fSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2V0OiAnaXNsYW5kcyNkb3RJY29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25Db2xvcjogJyM3MzUxODQnXG4gICAgICAgICAgICAgICAgICAgIH0pKVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAoJCgnLmotbWFwJykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgJCgnLmotbWFwJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmRyb3dNYXAoJCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH07XG5cbn0pKGRvY3VtZW50LmJvZHkpOyIsIi8vIDsoZnVuY3Rpb24gKCQpIHtcbi8vICAgICBcInVzZSBzdHJpY3RcIjtcblxuLy8gICAgICQuYXBwID0gJC5hcHAgfHwge307XG5cbi8vICAgICB2YXIgX3RoaXM7XG5cbi8vICAgICAkLmFwcC5zYW5kd2ljaCA9IHtcblxuLy8gICAgICAgICBjb25maWc6IHtcbi8vICAgICAgICAgICAgIGtleUhvb2tzOiAhMSxcbi8vICAgICAgICAgICAgIHNlbGVjdG9yOiAnLmpzLXNhbmR3aWNoLW1lbnUnLFxuLy8gICAgICAgICAgICAgd3JhcHBlcjogJy5sYXlvdXQtd3JhcHBlcicsXG4vLyAgICAgICAgICAgICBvdmVybGF5OiAnLm92ZXJsYXknXG4vLyAgICAgICAgIH0sXG5cbi8vICAgICAgICAgZXh0ZW5kOiBmdW5jdGlvbihjb25maWcpXG4vLyAgICAgICAgIHtcbi8vICAgICAgICAgICAgIF90aGlzID0gdGhpcztcblxuLy8gICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgIT09ICd1bmRlZmluZWQnKVxuLy8gICAgICAgICAgICAge1xuLy8gICAgICAgICAgICAgICAgIHZhciB4O1xuLy8gICAgICAgICAgICAgICAgIGZvciAoeCBpbiBjb25maWcpXG4vLyAgICAgICAgICAgICAgICAge1xuLy8gICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzLmNvbmZpZ1t4XSAhPT0gJ3VuZGVmaW5lZCcpXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdbeF0gPSBjb25maWdbeF07XG4vLyAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9LFxuXG4vLyAgICAgICAgIGlzT3BlbjogZnVuY3Rpb24oKVxuLy8gICAgICAgICB7XG4vLyAgICAgICAgICAgICByZXR1cm4gYm9keS5oYXNDbGFzcygncGFnZS12aXNpYmxlJyk7XG4vLyAgICAgICAgIH0sXG5cbi8vICAgICAgICAgaGlkZTogZnVuY3Rpb24oKVxuLy8gICAgICAgICB7XG4vLyAgICAgICAgICAgICBib2R5LnJlbW92ZUNsYXNzKCdwYWdlLW9wZW4nKTtcblxuLy8gICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuLy8gICAgICAgICAgICAgICAgIGJvZHkucmVtb3ZlQ2xhc3MoJ3BhZ2UtdmlzaWJsZScpO1xuLy8gICAgICAgICAgICAgfSwgMTApO1xuXG4vLyAgICAgICAgICAgICAkKHRoaXMuY29uZmlnLm92ZXJsYXkpLmNzcyh7XG4vLyAgICAgICAgICAgICAgICAgJ3Zpc2liaWxpdHknOiAnaGlkZGVuJ1xuLy8gICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgIH0sXG5cbi8vICAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbigpXG4vLyAgICAgICAgIHtcbi8vICAgICAgICAgICAgIGlmIChib2R5Lmhhc0NsYXNzKCdwYWdlLXZpc2libGUnKSlcbi8vICAgICAgICAgICAgIHtcbi8vICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4vLyAgICAgICAgICAgICAgICAgICAgIGJvZHkucmVtb3ZlQ2xhc3MoJ3BhZ2UtdmlzaWJsZScpO1xuLy8gICAgICAgICAgICAgICAgIH0sIDEwKTtcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgIGVsc2Vcbi8vICAgICAgICAgICAgIHtcbi8vICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4vLyAgICAgICAgICAgICAgICAgICAgIGJvZHkuYWRkQ2xhc3MoJ3BhZ2UtdmlzaWJsZScpO1xuLy8gICAgICAgICAgICAgICAgIH0sIDEwKTtcbi8vICAgICAgICAgICAgIH1cblxuLy8gICAgICAgICAgICAgYm9keS50b2dnbGVDbGFzcygncGFnZS1vcGVuJyk7XG5cbi8vICAgICAgICAgICAgIHZhciB2aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuXG4vLyAgICAgICAgICAgICBpZiAoIWJvZHkuaGFzQ2xhc3MoJ3BhZ2Utb3BlbicpKVxuLy8gICAgICAgICAgICAge1xuLy8gICAgICAgICAgICAgICAgIHZpc2liaWxpdHkgPSAnaGlkZGVuJ1xuLy8gICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4vLyAgICAgICAgICAgICAkKF90aGlzLmNvbmZpZy5vdmVybGF5KS5jc3Moe1xuLy8gICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JzogdmlzaWJpbGl0eVxuLy8gICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgIH0sXG5cbi8vICAgICAgICAgc2FuZHdpY2hUcmlnZ2VyOiBmdW5jdGlvbigpXG4vLyAgICAgICAgIHtcbi8vICAgICAgICAgICAgIF90aGlzID0gdGhpcztcblxuLy8gICAgICAgICAgICAgaWYgKF90aGlzLmNvbmZpZy5rZXlIb29rcylcbi8vICAgICAgICAgICAgIHtcbi8vICAgICAgICAgICAgICAgICBib2R5Lm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuLy8gICAgICAgICAgICAgICAgICAgICBpZihlLmtleUNvZGUgPT0gMjcgJiYgX3RoaXMuaXNPcGVuKCkpXG4vLyAgICAgICAgICAgICAgICAgICAgIHtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRvZ2dsZSgpO1xuLy8gICAgICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgICAgICB9O1xuXG4vLyAgICAgICAgICAgICBib2R5Lm9uKCdjbGljaycsIF90aGlzLmNvbmZpZy5zZWxlY3RvciwgZnVuY3Rpb24oZSl7XG4vLyAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCA/IGUucHJldmVudERlZmF1bHQoKSA6IGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbi8vICAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGUoKTtcbi8vICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgICB9LFxuXG4vLyAgICAgICAgIG92ZXJsYXlUcmlnZ2VyOiBmdW5jdGlvbigpXG4vLyAgICAgICAgIHtcbi8vICAgICAgICAgICAgIF90aGlzID0gdGhpcztcblxuLy8gICAgICAgICAgICAgYm9keS5vbignY2xpY2snLCBfdGhpcy5jb25maWcub3ZlcmxheSwgZnVuY3Rpb24oZSl7XG4vLyAgICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xuLy8gICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgIH0sXG5cbi8vICAgICAgICAgaW5pdDogZnVuY3Rpb24oY29uZmlnKVxuLy8gICAgICAgICB7XG4vLyAgICAgICAgICAgICB0aGlzLmV4dGVuZChjb25maWcpO1xuICAgICAgICAgICAgXG4vLyAgICAgICAgICAgICB0aGlzLnNhbmR3aWNoVHJpZ2dlcigpO1xuLy8gICAgICAgICAgICAgdGhpcy5vdmVybGF5VHJpZ2dlcigpO1xuLy8gICAgICAgICB9XG5cbi8vICAgICB9O1xuXG4vLyB9KShqUXVlcnkpO1xuLy8gICIsIlwidXNlIHN0cmljdFwiO1xuIiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgYXBwLmluaXQoKTtcbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
